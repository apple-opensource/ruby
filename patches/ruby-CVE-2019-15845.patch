diff --git dir.c dir.c
index d567263..a352b73 100644
--- dir.c
+++ dir.c
@@ -3230,7 +3230,7 @@ file_s_fnmatch(int argc, VALUE *argv, VALUE obj)
     else
 	flags = 0;
 
-    StringValue(pattern);
+    StringValueCStr(pattern);
     FilePathStringValue(path);
 
     if (flags & FNM_EXTGLOB) {
diff --git test/ruby/test_fnmatch.rb test/ruby/test_fnmatch.rb
index f594a00..16f1076 100644
--- test/ruby/test_fnmatch.rb
+++ test/ruby/test_fnmatch.rb
@@ -160,4 +160,10 @@ def test_unicode
     assert_file.fnmatch("[a-\u3042]*", "\u3042")
     assert_file.not_fnmatch("[a-\u3042]*", "\u3043")
   end
+
+  def test_nullchar
+    assert_raise(ArgumentError) {
+      File.fnmatch("a\0z", "a")
+    }
+  end
 end
